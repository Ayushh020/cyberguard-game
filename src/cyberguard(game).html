<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CyberGuard - Cybersecurity Awareness Game</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
            overflow-x: hidden;
        }

        .container {
            max-width: 900px;
            width: 100%;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            overflow: hidden;
            animation: slideIn 0.5s ease-out;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 30px;
            text-align: center;
            color: white;
            position: relative;
            overflow: hidden;
        }

        .header::before {
            content: 'üõ°Ô∏è';
            position: absolute;
            font-size: 150px;
            opacity: 0.1;
            right: -20px;
            top: -20px;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);
        }

        .header p {
            font-size: 1.1em;
            opacity: 0.9;
        }

        .stats-bar {
            display: flex;
            justify-content: space-around;
            padding: 20px;
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
            flex-wrap: wrap;
            gap: 15px;
        }

        .stat {
            text-align: center;
            flex: 1;
            min-width: 120px;
        }

        .stat-value {
            font-size: 2em;
            font-weight: bold;
            display: block;
        }

        .stat-label {
            font-size: 0.9em;
            opacity: 0.9;
        }

        .content {
            padding: 40px;
        }

        .screen {
            display: none;
            animation: fadeIn 0.4s ease-out;
        }

        .screen.active {
            display: block;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
            }
            to {
                opacity: 1;
            }
        }

        .level-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }

        .level-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            border-radius: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .level-card::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
            transform: scale(0);
            transition: transform 0.5s ease;
        }

        .level-card:hover::before {
            transform: scale(1);
        }

        .level-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.3);
        }

        .level-card.locked {
            background: linear-gradient(135deg, #bdc3c7 0%, #95a5a6 100%);
            cursor: not-allowed;
        }

        .level-card.completed {
            background: linear-gradient(135deg, #56ab2f 0%, #a8e063 100%);
        }

        .level-icon {
            font-size: 3em;
            margin-bottom: 15px;
        }

        .level-title {
            font-size: 1.3em;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .level-desc {
            font-size: 0.9em;
            opacity: 0.9;
        }

        .scenario {
            background: #f8f9fa;
            padding: 25px;
            border-radius: 15px;
            margin-bottom: 25px;
            border-left: 5px solid #667eea;
        }

        .scenario h3 {
            color: #667eea;
            margin-bottom: 15px;
            font-size: 1.3em;
        }

        .email-mockup {
            background: white;
            border: 2px solid #ddd;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            font-family: Arial, sans-serif;
        }

        .email-header {
            border-bottom: 2px solid #eee;
            padding-bottom: 15px;
            margin-bottom: 15px;
        }

        .email-field {
            margin: 8px 0;
            font-size: 0.95em;
        }

        .email-field strong {
            color: #666;
        }

        .options {
            display: grid;
            gap: 15px;
            margin-top: 25px;
        }

        .option {
            background: white;
            border: 2px solid #ddd;
            padding: 20px;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .option:hover {
            border-color: #667eea;
            background: #f8f9fa;
            transform: translateX(5px);
        }

        .option-icon {
            font-size: 2em;
            flex-shrink: 0;
        }

        .option-text {
            flex: 1;
        }

        .feedback {
            padding: 20px;
            border-radius: 12px;
            margin-top: 25px;
            animation: slideIn 0.4s ease-out;
        }

        .feedback.correct {
            background: linear-gradient(135deg, #d4fc79 0%, #96e6a1 100%);
            border-left: 5px solid #4caf50;
        }

        .feedback.incorrect {
            background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
            border-left: 5px solid #f44336;
        }

        .feedback h4 {
            margin-bottom: 12px;
            font-size: 1.2em;
        }

        .btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 15px 35px;
            border-radius: 30px;
            font-size: 1.1em;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
            font-weight: 600;
        }

        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
        }

        .btn:active {
            transform: translateY(-1px);
        }

        .btn-secondary {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            margin-left: 10px;
        }

        .btn-group {
            display: flex;
            gap: 15px;
            margin-top: 25px;
            flex-wrap: wrap;
        }

        .progress-bar {
            background: #e0e0e0;
            height: 10px;
            border-radius: 5px;
            overflow: hidden;
            margin: 20px 0;
        }

        .progress-fill {
            background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
            height: 100%;
            transition: width 0.5s ease;
        }

        .achievement-popup {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0);
            background: white;
            padding: 40px;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4);
            text-align: center;
            z-index: 1000;
            transition: transform 0.3s ease;
        }

        .achievement-popup.show {
            transform: translate(-50%, -50%) scale(1);
        }

        .achievement-icon {
            font-size: 5em;
            margin-bottom: 20px;
        }

        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.7);
            display: none;
            z-index: 999;
        }

        .overlay.show {
            display: block;
        }

        .leaderboard-entry {
            background: white;
            padding: 15px 20px;
            border-radius: 10px;
            margin: 10px 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-left: 4px solid #667eea;
        }

        .leaderboard-entry.top {
            background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
            border-left-color: #f5576c;
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 1.8em;
            }

            .content {
                padding: 20px;
            }

            .level-grid {
                grid-template-columns: 1fr;
            }

            .btn-group {
                flex-direction: column;
            }

            .btn {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <div class="overlay" id="overlay"></div>
    <div class="achievement-popup" id="achievementPopup">
        <div class="achievement-icon">üèÜ</div>
        <h2 id="achievementTitle">Achievement Unlocked!</h2>
        <p id="achievementDesc"></p>
        <button class="btn" onclick="closeAchievement()">Awesome!</button>
    </div>

    <div class="container">
        <div class="header">
            <h1>üõ°Ô∏è CyberGuard</h1>
            <p>Master Cybersecurity Through Interactive Challenges</p>
        </div>

        <div class="stats-bar">
            <div class="stat">
                <span class="stat-value" id="score">0</span>
                <span class="stat-label">Score</span>
            </div>
            <div class="stat">
                <span class="stat-value" id="level">1</span>
                <span class="stat-label">Level</span>
            </div>
            <div class="stat">
                <span class="stat-value" id="achievements">0</span>
                <span class="stat-label">Achievements</span>
            </div>
        </div>

        <div class="content">
            <!-- Home Screen -->
            <div class="screen active" id="homeScreen">
                <h2>Welcome, Cyber Defender!</h2>
                <p style="margin: 20px 0; color: #666; font-size: 1.1em;">
                    Test your cybersecurity knowledge through real-world scenarios. Each level presents a unique cyber threat - can you identify them all?
                </p>
                <div class="level-grid">
                    <div class="level-card" onclick="startLevel(1)">
                        <div class="level-icon">üìß</div>
                        <div class="level-title">Level 1: Phishing Email</div>
                        <div class="level-desc">Spot the suspicious email</div>
                    </div>
                    <div class="level-card locked" id="level2Card">
                        <div class="level-icon">üîí</div>
                        <div class="level-title">Level 2: Password Security</div>
                        <div class="level-desc">Choose the strongest password</div>
                    </div>
                    <div class="level-card locked" id="level3Card">
                        <div class="level-icon">üåê</div>
                        <div class="level-title">Level 3: Fake Website</div>
                        <div class="level-desc">Identify the legitimate site</div>
                    </div>
                    <div class="level-card locked" id="level4Card">
                        <div class="level-icon">üé≠</div>
                        <div class="level-title">Level 4: Social Engineering</div>
                        <div class="level-desc">Resist manipulation tactics</div>
                    </div>
                </div>
                <div class="btn-group" style="justify-content: center; margin-top: 30px;">
                    <button class="btn btn-secondary" onclick="showLeaderboard()">üèÜ Leaderboard</button>
                </div>
            </div>

            <!-- Level 1: Phishing Email -->
            <div class="screen" id="level1Screen">
                <div class="scenario">
                    <h3>üìß Scenario: Suspicious Email Alert</h3>
                    <p>You've received an email in your inbox. Your task is to determine if this email is legitimate or a phishing attempt.</p>
                </div>

                <div class="email-mockup">
                    <div class="email-header">
                        <div class="email-field"><strong>From:</strong> security-team@bankof-america-secure.net</div>
                        <div class="email-field"><strong>To:</strong> you@email.com</div>
                        <div class="email-field"><strong>Subject:</strong> URGENT: Your Account Has Been Compromised!</div>
                    </div>
                    <div class="email-body">
                        <p>Dear Valued Customer,</p>
                        <p>We have detected unusual activity on your account. Your account will be suspended within 24 hours unless you verify your identity immediately.</p>
                        <p><strong>Click here to verify your account now: <span style="color: blue; text-decoration: underline;">http://bankofamerica-verify.net/login</span></strong></p>
                        <p>Failure to respond will result in permanent account closure.</p>
                        <p>Sincerely,<br>Bank of America Security Team</p>
                    </div>
                </div>

                <h3>What should you do?</h3>
                <div class="options">
                    <div class="option" onclick="checkAnswer(1, 'wrong1')">
                        <div class="option-icon">‚úÖ</div>
                        <div class="option-text">
                            <strong>Click the link immediately</strong><br>
                            <span style="color: #666; font-size: 0.9em;">My account might be compromised!</span>
                        </div>
                    </div>
                    <div class="option" onclick="checkAnswer(1, 'wrong2')">
                        <div class="option-icon">üìû</div>
                        <div class="option-text">
                            <strong>Reply to the email asking for more details</strong><br>
                            <span style="color: #666; font-size: 0.9em;">I need more information</span>
                        </div>
                    </div>
                    <div class="option" onclick="checkAnswer(1, 'correct')">
                        <div class="option-icon">üõ°Ô∏è</div>
                        <div class="option-text">
                            <strong>Delete the email and contact the bank directly</strong><br>
                            <span style="color: #666; font-size: 0.9em;">This looks suspicious</span>
                        </div>
                    </div>
                    <div class="option" onclick="checkAnswer(1, 'wrong3')">
                        <div class="option-icon">üì§</div>
                        <div class="option-text">
                            <strong>Forward it to friends to warn them</strong><br>
                            <span style="color: #666; font-size: 0.9em;">Everyone should know about this</span>
                        </div>
                    </div>
                </div>

                <div id="feedback1"></div>
            </div>

            <!-- Level 2: Password Security -->
            <div class="screen" id="level2Screen">
                <div class="scenario">
                    <h3>üîí Scenario: Creating a Secure Password</h3>
                    <p>You're setting up a new account for online banking. Which password provides the best security?</p>
                </div>

                <h3>Choose the strongest password:</h3>
                <div class="options">
                    <div class="option" onclick="checkAnswer(2, 'wrong1')">
                        <div class="option-icon">‚ùå</div>
                        <div class="option-text">
                            <strong>password123</strong><br>
                            <span style="color: #666; font-size: 0.9em;">Simple and easy to remember</span>
                        </div>
                    </div>
                    <div class="option" onclick="checkAnswer(2, 'wrong2')">
                        <div class="option-icon">‚ö†Ô∏è</div>
                        <div class="option-text">
                            <strong>JohnSmith1990</strong><br>
                            <span style="color: #666; font-size: 0.9em;">My name and birth year</span>
                        </div>
                    </div>
                    <div class="option" onclick="checkAnswer(2, 'correct')">
                        <div class="option-icon">‚úÖ</div>
                        <div class="option-text">
                            <strong>Tr0pic@l$unset#2024!Mango</strong><br>
                            <span style="color: #666; font-size: 0.9em;">Mix of characters, numbers, and symbols</span>
                        </div>
                    </div>
                    <div class="option" onclick="checkAnswer(2, 'wrong3')">
                        <div class="option-icon">‚ö†Ô∏è</div>
                        <div class="option-text">
                            <strong>ilovemydog</strong><br>
                            <span style="color: #666; font-size: 0.9em;">Something meaningful to me</span>
                        </div>
                    </div>
                </div>

                <div id="feedback2"></div>
            </div>

            <!-- Level 3: Fake Website -->
            <div class="screen" id="level3Screen">
                <div class="scenario">
                    <h3>üåê Scenario: Identifying Legitimate Websites</h3>
                    <p>You want to log into your PayPal account. Which of these URLs is the legitimate PayPal website?</p>
                </div>

                <h3>Select the real PayPal website:</h3>
                <div class="options">
                    <div class="option" onclick="checkAnswer(3, 'wrong1')">
                        <div class="option-icon">üîó</div>
                        <div class="option-text">
                            <strong>http://paypal-security.com</strong><br>
                            <span style="color: #666; font-size: 0.9em;">Has "paypal" in the name</span>
                        </div>
                    </div>
                    <div class="option" onclick="checkAnswer(3, 'correct')">
                        <div class="option-icon">üîí</div>
                        <div class="option-text">
                            <strong>https://www.paypal.com</strong><br>
                            <span style="color: #666; font-size: 0.9em;">Secure connection with proper domain</span>
                        </div>
                    </div>
                    <div class="option" onclick="checkAnswer(3, 'wrong2')">
                        <div class="option-icon">üîó</div>
                        <div class="option-text">
                            <strong>https://www.paypa1.com</strong><br>
                            <span style="color: #666; font-size: 0.9em;">Looks almost the same</span>
                        </div>
                    </div>
                    <div class="option" onclick="checkAnswer(3, 'wrong3')">
                        <div class="option-icon">üîó</div>
                        <div class="option-text">
                            <strong>http://secure-paypal-login.net</strong><br>
                            <span style="color: #666; font-size: 0.9em;">Says "secure" in the URL</span>
                        </div>
                    </div>
                </div>

                <div id="feedback3"></div>
            </div>

            <!-- Level 4: Social Engineering -->
            <div class="screen" id="level4Screen">
                <div class="scenario">
                    <h3>üé≠ Scenario: Phone Call from "IT Support"</h3>
                    <p>You receive a phone call: "Hi, this is Mike from IT Support. We've detected a virus on your computer. I need your password to fix it remotely. Can you provide it?"</p>
                </div>

                <h3>What's your response?</h3>
                <div class="options">
                    <div class="option" onclick="checkAnswer(4, 'wrong1')">
                        <div class="option-icon">üó£Ô∏è</div>
                        <div class="option-text">
                            <strong>Give them my password</strong><br>
                            <span style="color: #666; font-size: 0.9em;">They're from IT, they need it</span>
                        </div>
                    </div>
                    <div class="option" onclick="checkAnswer(4, 'wrong2')">
                        <div class="option-icon">üí¨</div>
                        <div class="option-text">
                            <strong>Give them my username only</strong><br>
                            <span style="color: #666; font-size: 0.9em;">That's safer than the password</span>
                        </div>
                    </div>
                    <div class="option" onclick="checkAnswer(4, 'correct')">
                        <div class="option-icon">üõ°Ô∏è</div>
                        <div class="option-text">
                            <strong>Hang up and call IT directly using the official number</strong><br>
                            <span style="color: #666; font-size: 0.9em;">Verify through official channels</span>
                        </div>
                    </div>
                    <div class="option" onclick="checkAnswer(4, 'wrong3')">
                        <div class="option-icon">üîë</div>
                        <div class="option-text">
                            <strong>Give a fake password to test them</strong><br>
                            <span style="color: #666; font-size: 0.9em;">Let me see if they're real</span>
                        </div>
                    </div>
                </div>

                <div id="feedback4"></div>
            </div>

            <!-- Leaderboard Screen -->
            <div class="screen" id="leaderboardScreen">
                <h2>üèÜ Leaderboard</h2>
                <p style="margin: 20px 0; color: #666;">Top Cyber Defenders</p>
                <div id="leaderboardList"></div>
                <button class="btn" onclick="showHome()" style="margin-top: 30px;">Back to Home</button>
            </div>
        </div>
    </div>

    <script>
        const gameState = {
            score: 0,
            currentLevel: 1,
            completedLevels: [],
            achievements: 0
        };

        const levelData = {
            1: {
                correct: 'correct',
                points: 100,
                feedback: {
                    correct: {
                        title: 'üéâ Excellent Work!',
                        text: 'You correctly identified this as a phishing email! Red flags included: suspicious sender domain (not the real Bank of America), urgent threatening language, suspicious link URL, and poor grammar. Always verify directly with your bank through official channels.'
                    },
                    wrong: {
                        title: '‚ùå Not Quite Right',
                        text: 'This is a phishing email! Look for: fake sender address, urgent threats, suspicious links, and requests for personal info. Never click links in suspicious emails. Always contact your bank directly using official contact info.'
                    }
                }
            },
            2: {
                correct: 'correct',
                points: 150,
                feedback: {
                    correct: {
                        title: 'üéâ Perfect Choice!',
                        text: 'This password is strong because it: uses a mix of uppercase and lowercase letters, includes numbers and special characters, is long (over 16 characters), and isn\'t based on dictionary words. Always use unique passwords for each account and consider a password manager.'
                    },
                    wrong: {
                        title: '‚ùå Weak Password',
                        text: 'This password is too weak! Strong passwords should: be at least 12-16 characters, mix uppercase, lowercase, numbers and symbols, avoid personal info, and not use common words. Use a password manager to generate and store strong passwords.'
                    }
                }
            },
            3: {
                correct: 'correct',
                points: 150,
                feedback: {
                    correct: {
                        title: 'üéâ Correct!',
                        text: 'This is the legitimate PayPal URL! It has: HTTPS secure connection, the correct domain name (paypal.com), and no suspicious characters. Always check for HTTPS, verify the exact domain spelling, and look for the padlock icon in your browser.'
                    },
                    wrong: {
                        title: '‚ùå That\'s a Fake Site!',
                        text: 'This is a fake website! Red flags: wrong domain name, look-alike characters (like "1" instead of "l"), or added words before/after the real domain. Always type important URLs directly or use bookmarks. Check for HTTPS and the exact domain spelling.'
                    }
                }
            },
            4: {
                correct: 'correct',
                points: 200,
                feedback: {
                    correct: {
                        title: 'üéâ Outstanding!',
                        text: 'Perfect response! This is social engineering - a manipulation tactic. Real IT staff will NEVER ask for your password. Always verify unexpected calls through official channels. Other red flags: pressure tactics, requests for sensitive info, and unsolicited "help".'
                    },
                    wrong: {
                        title: '‚ùå That\'s Dangerous!',
                        text: 'This is social engineering - a manipulation attack! Never give your password to anyone, even if they claim to be IT support. Legitimate tech support never needs your password. Always verify through official channels and be wary of unsolicited calls.'
                    }
                }
            }
        };

        function startLevel(level) {
            if (level > 1 && !gameState.completedLevels.includes(level - 1)) {
                return;
            }
            
            document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
            document.getElementById(`level${level}Screen`).classList.add('active');
            gameState.currentLevel = level;
            updateStats();
        }

        function checkAnswer(level, choice) {
            const isCorrect = choice === levelData[level].correct;
            const feedbackDiv = document.getElementById(`feedback${level}`);
            const feedback = isCorrect ? levelData[level].feedback.correct : levelData[level].feedback.wrong;
            
            if (isCorrect) {
                gameState.score += levelData[level].points;
                if (!gameState.completedLevels.includes(level)) {
                    gameState.completedLevels.push(level);
                    unlockNextLevel(level);
                    
                    if (level === 1) {
                        showAchievement('First Victory!', 'You\'ve completed your first level!');
                        gameState.achievements++;
                    }
                    if (gameState.completedLevels.length === 4) {
                        showAchievement('Cyber Expert!', 'You\'ve completed all levels!');
                        gameState.achievements++;
                    }
                }
            }
            
            feedbackDiv.innerHTML = `
                <div class="feedback ${isCorrect ? 'correct' : 'incorrect'}">
                    <h4>${feedback.title}</h4>
                    <p>${feedback.text}</p>
                    <div class="btn-group">
                        ${level < 4 && isCorrect ? `<button class="btn" onclick="startLevel(${level + 1})">Next Level ‚Üí</button>` : ''}
                        ${!isCorrect ? `<button class="btn btn-secondary" onclick="location.reload()">Try Again</button>` : ''}
                        <button class="btn btn-secondary" onclick="showHome()">Back to Home</button>
                    </div>
                </div>
            `;
            
            updateStats();
            updateLeaderboard();
        }

        function unlockNextLevel(completedLevel) {
            const nextLevel = completedLevel + 1;
            const card = document.getElementById(`level${nextLevel}Card`);
            if (card) {
                card.classList.remove('locked');
                card.onclick = () => startLevel(nextLevel);
            }
            
            const completedCard = document.querySelectorAll('.level-card')[completedLevel - 1];
            if (completedCard) {
                completedCard.classList.add('completed');
            }
        }

        function updateStats() {
            document.getElementById('score').textContent = gameState.score;
            document.getElementById('level').textContent = gameState.currentLevel;
            document.getElementById('achievements').textContent = gameState.achievements;
        }

        function showHome() {
            document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
            document.getElementById('homeScreen').classList.add('active');
        }

        function showAchievement(title, desc) {
            document.getElementById('achievementTitle').textContent = title;
            document.getElementById('achievementDesc').textContent = desc;
            document.getElementById('achievementPopup').classList.add('show');
            document.getElementById('overlay').classList.add('show');
        }

        function closeAchievement() {
            document.getElementById('achievementPopup').classList.remove('show');
            document.getElementById('overlay').classList.remove('show');
        }

        function showLeaderboard() {
            const leaderboard = JSON.parse(localStorage.getItem('cyberguard-leaderboard') || '[]');
            const sorted = leaderboard.sort((a, b) => b.score - a.score).slice(0, 10);
            
            let html = '';
            if (sorted.length === 0) {
                html = '<p style="text-align: center; color: #666; padding: 40px;">No scores yet. Be the first to complete all levels!</p>';
            } else {
                sorted.forEach((entry, index) => {
                    html += `
                        <div class="leaderboard-entry ${index < 3 ? 'top' : ''}">
                            <span><strong>${index + 1}.</strong> ${entry.name}</span>
                            <span><strong>${entry.score}</strong> points</span>
                        </div>
                    `;
                });
            }
            
            document.getElementById('leaderboardList').innerHTML = html;
            document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
            document.getElementById('leaderboardScreen').classList.add('active');
        }

        function updateLeaderboard() {
            if (gameState.completedLevels.length === 4) {
                const name = prompt('üéâ Congratulations! You completed all levels!\n\nEnter your name for the leaderboard:') || 'Anonymous';
                const leaderboard = JSON.parse(localStorage.getItem('cyberguard-leaderboard') || '[]');
                leaderboard.push({
                    name: name,
                    score: gameState.score,
                    date: new Date().toISOString()
                });
                localStorage.setItem('cyberguard-leaderboard', JSON.stringify(leaderboard));
            }
        }

        // Initialize on load
        updateStats();
    </script>
</body>
</html>